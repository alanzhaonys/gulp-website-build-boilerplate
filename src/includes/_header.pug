header
  #top-bar
    .container.h-100
      .row.h-100
        .col.col-12.h-100.d-flex.align-items-center.justify-content-center.justify-content-lg-end.flex-row
          if enableIsi
            a.toggle-isi(href=(disableIsiPageSlugs.includes(pageSlug) ? '/isi' : '#') onclick=(disableIsiPageSlugs.includes(pageSlug) ? '' : 'return false'))
              | Important Site Information
          a(href='/')
            | Top Bar Link 2
          if enableSiteSearch
            button.d-none.d-lg-block.search-button Search

  #main-nav.d-flex.align-items-center
    .container
      .row.d-flex.justify-content-between
        .col.col-4.col-lg-2.d-flex.align-items-center.justify-content-start.p-lg-0
          a(href='/')
            img.main-logo(srcset='http://via.placeholder.com/140x80, http://via.placeholder.com/280x160 2x' alt='Main Logo')

        .col.col-8.col-lg-10.d-flex.align-items-center.justify-content-end.p-lg-0
          //-
          //- Desktop nav start here
          //-
          nav#desktop-nav.d-none.d-lg-flex.align-items-center
            ul.menu
              each page, key in menu_config
                li
                  - var activeClass = (pageSlug === key || parentSlug === key) ? 'active ' : ''
                  a(href=(page.submenu ? '#' : page.href) onclick=(page.submenu ? 'return false' : '') class=activeClass)!= page.label
                  if page.submenu
                    ul.submenu1
                      each page1, key1 in page.submenu
                        li
                          - var activeClass1 = (pageSlug === key1) ? 'active ' : ''
                          a(href=page1.href class=activeClass1)!= page1.label

          button.hamburger.hamburger--spin-r.d-lg-none(type='button' aria-label='Menu' aria-controls='mobile-nav' aria-expanded='false')

            span.hamburger-box
              span.hamburger-inner

  if enableSiteSearch
    .site-search.d-none.d-lg-block
      .container
        .row
          .col.col-12
            form.site-search-form(method="get" action="/search")
              input.keywords(type="text" name="keywords")
              input.submit(type="submit" value="Search")
              a.cancel(href="#" onclick="return false") Cancel

  //-
  //- Mobile nav starts here
  //-
  nav#mobile-nav.flex-column.d-lg-none
    .container
      .row
        .col.col-12
          .site-search
            form.site-search-form.d-flex(method="get" action="/search")
              input.keywords.flex-fill(type="text" name="keywords")
              input.submit(type="submit" value="Search")

          ul.menu
            each page, key in menu_config
              li

                - var expandedClass = ''
                - var expandableClass = ''
                if page.submenu
                  //- has submenu
                  - expandableClass = 'expandable'
                  each page1, key1 in page.submenu
                    if pageSlug === key1
                      //- should be initially expanded
                      - expandedClass = 'expanded'

                - var activeClass = (pageSlug === key || parentSlug === key) ? 'active' : ''

                a(href=(page.submenu ? '#' : page.href) onclick=(page.submenu ? 'return false' : '') class=activeClass + ' ' + expandableClass + ' ' + expandedClass)!= page.label
                if page.submenu
                  ul.submenu1
                    each page1, key1 in page.submenu
                      li
                        - var activeClass1 = (pageSlug === key1) ? 'active ' : ''
                        a(href=page1.href class=activeClass1)!= page1.label
